<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appli √âducative 5√®me</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="hero is-success is-bold">
        <div class="hero-body">
            <div class="container">
                <h1 id="hero-title" class="title is-4 is-bold has-text-white">üß† Mon Coach 5√®me ou G√©rard pour les
                    intimes</h1>
                <div id="auth-area" style="right:20px; top:18px;">
                    <button id="btn-login" class="button is-custom">Se connecter</button>
                    <button id="btn-register" class="button is-light">S'inscrire</button>
                    <button id="btn-profile" class="button is-light"
                        style="display:none; margin-left:6px;">Profil</button>
                    <button id="btn-logout" class="button is-custom"
                        style="display:none; margin-left:6px;">D√©connexion</button>

                    <div id="auth-form-wrapper"
                        style="display:none; margin-top:8px; background:rgba(255,255,255,0.95); padding:10px; border-radius:6px;">
                        <div id="auth-form-title" class="subtitle is-6">Se connecter</div>
                        <form id="auth-form">
                            <div class="field">
                                <div class="control has-icons-left">
                                    <input id="auth-username" class="input" type="text" placeholder="Nom d'utilisateur"
                                        required />
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-user"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="field">
                                <div class="control has-icons-left">
                                    <input id="auth-password" class="input" type="password" placeholder="Mot de passe"
                                        required />
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-lock"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="field is-grouped">
                                <div class="control">
                                    <button id="auth-form-submit" data-mode="login"
                                        class="button is-primary">Connexion</button>
                                </div>
                                <div class="control">
                                    <button type="button" id="auth-form-cancel" class="button">Annuler</button>
                                </div>
                            </div>
                            <p id="auth-msg" style="margin:0; font-size:0.9em;"></p>
                        </form>
                    </div>
                </div>
                <!-- Profile modal (Bulma) -->
                <div id="profile-modal" class="modal">
                    <div class="modal-background" id="profile-modal-bg"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">Bilan Utilisateur</p>
                            <button class="delete" aria-label="close" id="profile-modal-close"></button>
                        </header>
                        <section class="modal-card-body">
                            <div id="profile-content">
                                <h3 id="profile-name" class="title is-4"></h3>
                                <p id="profile-general" class="subtitle is-6"></p>

                                <div class="box">
                                    <h4 class="title is-6">R√©sultats par mati√®re</h4>
                                    <ul id="profile-totals"></ul>
                                </div>

                                <div class="box">
                                    <h4 class="title is-6">5 derniers quiz</h4>
                                    <div id="profile-results"></div>
                                </div>
                            </div>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="profile-modal-close-2">Fermer</button>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="section">
        <div class="container">
            <div class="columns">

                <nav class="column is-one-quarter">
                    <div class="box">
                        <p class="title is-5 has-text-primary">Mati√®res</p>
                        <ul id="menu-matieres" class="menu-list">
                            <!-- Le contenu est g√©n√©r√© dynamiquement -->
                        </ul>
                    </div>
                </nav>

                <main class="column">
                    <div class="columns is-vcentered is-mobile">
                        <div class="column is-two-thirds">
                            <h2 id="titre-matiere" class="title is-3">Bienvenue ! Choisissez une mati√®re.</h2>

                            <div class="tabs is-toggle">
                                <ul>
                                    <li id="li-btn-cours" class="is-active">
                                        <a id="btn-cours" onclick="showSection('cours')">
                                            <span>Cours üìò</span>
                                        </a>
                                    </li>
                                    <li id="li-btn-quiz">
                                        <a id="btn-quiz" onclick="showSection('quiz')">
                                            <span>Quiz ‚ùì</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>

                            <!-- Bouton dropdown mobile pour les Mati√®res (visible uniquement sur petits √©crans) -->
                            <div class="mobile-matieres-wrapper">
                                <button id="mobile-matieres-btn" class="button is-custom mobile-matieres-btn"
                                    aria-expanded="false">Mati√®res ‚ñæ</button>
                                <div id="mobile-matieres-overlay" class="mobile-matieres-overlay" aria-hidden="true">
                                </div>
                                <div id="mobile-matieres-dropdown" class="mobile-matieres-dropdown" aria-hidden="true">
                                    <ul id="menu-matieres-mobile" class="menu-list">
                                        <!-- rempli dynamiquement -->
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="column is-one-third has-text-right">
                            <figure class="image is-128x128" style="display:inline-block;">
                                <img id="mascotte-img" src="data/mascotte/welcome.png" alt="Bienvenue">
                            </figure>
                        </div>
                    </div>

                    <section id="section-cours">
                        <div class="notification is-info is-light">
                            S√©lectionnez une mati√®re dans le menu pour afficher les notions de niveau 5√®me.
                        </div>
                    </section>

                    <section id="section-quiz" class="is-hidden">
                        <div class="notification is-warning is-light">
                            Pr√™t √† tester vos connaissances ? Cliquez sur "Quiz" apr√®s avoir choisi une mati√®re.
                        </div>
                        <div id="quiz-container"></div>
                    </section>


                </main>
            </div>
        </div>
    </div>

    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
    <script type="module" src="js/init.js"></script>
</body>

</html>