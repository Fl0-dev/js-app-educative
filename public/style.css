/* style.css - Styles complémentaires à Bulma */

/* Conservation des variables pour la cohérence des couleurs */
:root {
    --couleur-primaire: #4CAF50; /* Vert éducatif */
    --couleur-secondaire: #2196F3; /* Bleu */
    --couleur-bouton: #e994ec; /* Couleur personnalisée par défaut pour les boutons */
    --couleur-fond: #f4f7f6;
    --couleur-texte: #333;
    /* Poids de police pour Nunito */
    --fw-light: 300;
    --fw-regular: 400;
    --fw-semibold: 600;
    --fw-bold: 700;
    --fw-extrabold: 800;
}

/* Assurer que la page occupe toute la hauteur de la fenêtre */
html, body {
    height: 100%;
}

body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    height: auto;
    font-family: 'Nunito', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    /* Garantir que le fond couvre toujours l'ensemble du body,
       même si le contenu est plus court que la fenêtre. */
    background: var(--couleur-fond) fixed center/cover;
    background-repeat: no-repeat;
    background-size: cover;
    background-attachment: fixed;
    color: var(--couleur-texte);
    line-height: 1.6;
    font-weight: var(--fw-regular);
}

/* Faire en sorte que la section principale prenne l'espace restant */
.section {
    flex: 1 0 auto;
}

/* Rendre le contenu des sections (cours / quiz) défilable quand il dépasse l'écran.
   On transforme la colonne principale en conteneur flex pour permettre à
   `#section-cours` d'occuper l'espace restant et d'activer `overflow-y`. */
main.column {
    display: flex;
    flex-direction: column;
    min-height: 0; /* important pour que les enfants puissent se réduire et scroller */
}

/* La barre supérieure (tabs + mascotte) ne doit pas se développer */
main.column > .columns {
    flex: 0 0 auto;
}

/* Hauteur maximale des sections de contenu : viewport moins la hauteur du header.
   La variable `--header-height` est définie dynamiquement en JS au chargement
   et lors du redimensionnement pour s'adapter à la taille réelle du header. */
#section-cours, #section-quiz {
    flex: 1 1 auto;
    min-height: 0; /* permet le scrolling correct sur Chrome/Firefox */
    overflow-y: auto;
    padding-right: 0.6rem; /* espace pour éviter que le contenu soit caché derrière une scrollbar */
    box-sizing: border-box;
    max-height: calc(100vh - var(--header-height, 140px));
}

/* Le header ne doit pas se compresser */
.hero {
    flex: 0 0 auto;
}

/* Titres / Sous-titres */
.title, h1, h2, h3, h4, h5, h6 {
    font-family: 'Nunito', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-weight: var(--fw-bold);
}

.subtitle {
    font-weight: var(--fw-semibold);
}

/* Corps de texte */
p, li, .notification, .box, .notion-card p {
    font-weight: var(--fw-regular);
}

/* Micro-typographie : titres plus légers sur petites tailles */
h3.title.is-5, .subtitle.is-6 {
    font-weight: var(--fw-semibold);
}

/* Emphase légère pour éléments interactifs */
button, .button {
    font-weight: var(--fw-semibold);
}

/* Vous pouvez ajuster la couleur primaire de Bulma pour correspondre à votre vert initial */
/* Exemple : .is-primary { background-color: var(--couleur-primaire) !important; } */


/* --- Boutons personnalisés --- */
/* Utilisez la classe `is-custom` sur les éléments avec la classe `button` pour
   appliquer la couleur personnalisée définie dans `--couleur-bouton`. */
.button.is-custom {
    background-color: var(--couleur-bouton) !important;
    color: #ffffff !important;
    border-color: transparent !important;
    box-shadow: none !important;
}

/* Variante "light" : fond transparent, bord coloré */
.button.is-custom.is-light {
    background-color: transparent !important;
    color: var(--couleur-bouton) !important;
    border: 1px solid var(--couleur-bouton) !important;
}

.button.is-custom:hover,
.button.is-custom:focus {
    filter: brightness(0.95);
    transform: translateY(-1px);
}

/* État actif (pour les boutons du menu) */
.button.is-custom.is-active {
    box-shadow: 0 2px 0 rgba(0,0,0,0.06) inset;
}

/* Petit utilitaire pour forcer la couleur des éléments Bulma qui utilisent des variantes */
.button.is-custom.is-fullwidth { width: 100%; }


/* --- Styles Spécifiques (Générés par JavaScript) --- */

/* Carte de Notion (Cours) */
.notion-card {
    /* Utilisation de la classe "box" de Bulma, avec surcharge de bordure */
    border-left: 5px solid var(--couleur-primaire);
    margin-bottom: 15px;
    padding: 20px;
}
/* Pour les notions, vous pouvez simplement utiliser la classe Bulma "box" */


/* Styles pour le Quiz */
#quiz-container .question-card {
    background-color: #edbbf7;
    border: 1px solid #d79ee2;
    padding: 20px;
    margin-bottom: 15px;
    border-radius: 6px;
}

/* Boutons d'Option de Quiz */
.option-button {
    /* Remplacer par des classes Bulma comme "button is-fullwidth" */
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    /* On garde les couleurs par défaut pour que les classes correct/incorrect les surchargent */
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
}

.option-button:hover {
    background-color: #f0f0f0;
}

/* Rétroaction du Quiz (Succès/Erreur) */
.correct {
    background-color: #a5d6a7 !important; /* Vert pâle */
    font-weight: bold;
    border-color: #4CAF50 !important;
}

.incorrect {
    background-color: #ffcdd2 !important; /* Rouge pâle */
    font-weight: bold;
    border-color: #F44336 !important;
}

/* Bulma utilise la classe "is-hidden" pour cacher, mais si vous utilisez votre ancienne classe "hidden", elle fonctionnera toujours. */
/* .hidden { display: none; } */